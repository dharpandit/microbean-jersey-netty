<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2019-06-16 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190616" />
    <meta http-equiv="Content-Language" content="en" />
    <title>microBean™ Jersey Netty Integration &#x2013; microBean™ Jersey Netty Integration</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>microBean™ Jersey Netty Integration</h2>
</div>
</div>
        <div class="pull-right"><a href="http://microbean.github.io/microbean-jersey-netty" id="bannerRight"><img src="https://avatars0.githubusercontent.com/u/25515632?s=60"  alt="μb microbean-jersey-netty"/></a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2019-06-16</li>
      <li id="projectVersion" class="pull-right">Version: 0.3.1</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Documentation</li>
    <li class="active"><a href="#"><span class="none"></span>Overview</a>
  </li>
    <li><a href="apidocs/index.html" title="JavaDocs"><span class="none"></span>JavaDocs</a>  </li>
    <li><a href="https://github.com/microbean/microbean-jersey-netty/" class="externalLink" title="Github Repository"><span class="none"></span>Github Repository</a>  </li>
    <li><a href="examples.html" title="Examples"><span class="none"></span>Examples</a>  </li>
          <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-down"></span>Project Information</a>
      <ul class="nav nav-list">
    <li><a href="dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a>  </li>
    <li><a href="dependency-info.html" title="Dependency Information"><span class="none"></span>Dependency Information</a>  </li>
    <li><a href="dependency-management.html" title="Dependency Management"><span class="none"></span>Dependency Management</a>  </li>
    <li><a href="distribution-management.html" title="Distribution Management"><span class="none"></span>Distribution Management</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>About</a>
  </li>
    <li><a href="issue-management.html" title="Issue Management"><span class="none"></span>Issue Management</a>  </li>
    <li><a href="licenses.html" title="Licenses"><span class="none"></span>Licenses</a>  </li>
    <li><a href="plugin-management.html" title="Plugin Management"><span class="none"></span>Plugin Management</a>  </li>
    <li><a href="plugins.html" title="Plugins"><span class="none"></span>Plugins</a>  </li>
    <li><a href="scm.html" title="Source Code Management"><span class="none"></span>Source Code Management</a>  </li>
    <li><a href="summary.html" title="Summary"><span class="none"></span>Summary</a>  </li>
    <li><a href="team.html" title="Team"><span class="none"></span>Team</a>  </li>
      </ul>
  </li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>microBean&#x2122; Jersey Netty Integration</h1>
<p><a class="externalLink" href="https://travis-ci.com/microbean/microbean-jersey-netty"><img src="https://travis-ci.com/microbean/microbean-jersey-netty.svg?branch=master" alt="Build Status" /></a> <a class="externalLink" href="https://maven-badges.herokuapp.com/maven-central/org.microbean/microbean-jersey-netty"><img src="https://maven-badges.herokuapp.com/maven-central/org.microbean/microbean-jersey-netty/badge.svg" alt="Maven Central" /></a></p>
<p>The microBean&#x2122; Jersey Netty Integration project integrates <a class="externalLink" href="https://jersey.github.io/">Jersey</a> into <a class="externalLink" href="https://netty.io">Netty</a> in an idiomatic way.</p>
<p>Jersey can be run as a simple handler of sorts in a native Netty pipeline.  The Netty event loop remains unblocked, there is no locking, reads and writes involve no copying of byte arrays, output is streamed where appropriate and there are very few object allocations.</p>
<p>Jersey itself contains a <a class="externalLink" href="https://github.com/eclipse-ee4j/jersey/tree/master/containers/netty-http">Netty integration project</a>, but it is annotated with <a class="externalLink" href="https://jersey.github.io/apidocs/2.28/jersey/org/glassfish/jersey/Beta.html"><tt>@Beta</tt></a>, and the author additionally writes:</p>
<blockquote>

<p>Note that this implementation cannot be more experimental.</p>
</blockquote>
<p>There are several issues with this &#x201c;native&#x201d; Netty integration project. The most problematic seems to be <a class="externalLink" href="https://github.com/eclipse-ee4j/jersey/issues/3500">issue 3500</a>.  This issue and others stem from the fact that the &#x201c;native&#x201d; Netty integration project sets up its own internal queues for streaming, which overflow. Additionally, new <tt>ByteBuffer</tt>s are allocated throughout.</p>
<p>This implementation instead shares a <a class="externalLink" href="https://netty.io/4.1/api/io/netty/buffer/ByteBuf.html"><tt>ByteBuf</tt></a> for reading and writing, and makes heavy use of Netty&#x2019;s <a class="externalLink" href="https://netty.io/4.1/api/io/netty/handler/stream/ChunkedWriteHandler.html"><tt>ChunkedWriteHandler</tt></a>, while also ultimately ensuring that all operations on a given <tt>ByteBuf</tt> that originate from Jersey are serialized to the Netty event loop.  This dramatically reduces object allocations, locks, threading issues, exception handling pathways and other concurrency problems.</p>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2019
<a href="http://microbean.systems/">microBean™</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
